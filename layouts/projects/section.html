{{ define "main" }}

{{ $filters := (partial "pagefilters" .Pages) }}

<!-- ======= Portfolio Section ======= -->
<section id="portfolio" class="portfolio section-show">
    <div class="container">

        <div class="section-title">
            <h2>Projects</h2>
            <p>My Works</p>
        </div>

        <div class="row">
            <div class="col-lg-12 d-flex justify-content-center">
                <ul id="portfolio-filters">
                    <li data-filter="*" class="filter-active">All</li>
                    {{ range $filters }}
                    <li data-filter=".filter-{{- . -}}">{{ . }}</li>
                    {{ end }}
                </ul>
            </div>
        </div>

        <div class="row portfolio-container">

            {{ range .Pages }}
            {{ $img := index .Params.images 0 }}
            <div class="col-lg-4 col-md-6 portfolio-item filter-{{- .Params.filter -}}">
                <div class="portfolio-wrap">
                    <img src="{{- $img.url -}}" class="img-fluid" alt="">
                    <div class="portfolio-info">
                        <h4>{{ .Params.title }}</h4>
                        <p>{{ .Params.filter }}</p>
                        <div class="portfolio-links">
                            <a href="{{- $img.url -}}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="{{- $img.name -}}"><i class="bx bx-plus"></i></a>
                            <a href="./simple/" data-gallery="portfolioDetailsGallery" data-glightbox="type: external" class="portfolio-details-lightbox" title="Project Details"><i class="bx bx-link"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            {{ end }}

        </div>

    </div>
</section><!-- End Portfolio Section -->
{{ end }}